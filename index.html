<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>أنيس – فيزياء</title>

<!-- Amiri لاسم البوت فقط، Cairo لباقي الصفحة -->
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet"/>

<style>
:root{
  --ink:#0d1b12; --muted:#5c6f62;
  --leaf-25:#eef7f1; --leaf-50:#e3f1e7; --leaf-100:#d6eadc;
  --accent:#1b7d3b; --accent-2:#27a158;
  --card:#fff; --ring:#bfe6c9; --btn-shadow:rgba(39,161,88,.25);
  --sub:#0e7a43; --h:#0e7a43;
  --chip-bg:#e7f7ec; --chip-bd:#c8e9d3;
  --error-bg:#fee2e2; --error-bd:#fecaca; --error-ink:#7f1d1d;
}
html.dark{
  --ink:#e9fbea; --muted:#cfead7;
  --leaf-25:#0b1710; --leaf-50:#0d1c12; --leaf-100:#0f2216;
  --accent:#2a9a56; --accent-2:#1f7f47;
  --card:#0f1c14; --ring:#194a2d; --btn-shadow:rgba(109,208,148,.22);
  --sub:#9ce0b4; --h:#9ce0b4; --chip-bg:#143a23; --chip-bd:#19512f;
  --error-bg:#3a1010; --error-bd:#5b1a1a; --error-ink:#ffd7d7;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink);
  font-family:"Cairo", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  /* خلفية الفاتح */
  background:
    radial-gradient(900px 520px at 10% -10%, var(--leaf-100), transparent 60%),
    radial-gradient(900px 520px at 90% 110%, var(--leaf-50), transparent 60%),
    linear-gradient(180deg, var(--leaf-25), var(--leaf-25) 85%);
  overflow-x:hidden;
}
/* خلفية الداكن — داكنة تمامًا من أعلى لأسفل */
html.dark body{
  background:
    linear-gradient(180deg, #0a1510, #0f2216 85%);
}

/* أوراق/دوائر متحركة أوضح في الوضعين */
body::before, body::after{
  content:""; position:fixed; inset:0; z-index:-1; pointer-events:none;
  background:
    radial-gradient(70px 42px at 82% 24%, rgba(27,125,59,.20) 0%, transparent 70%),
    radial-gradient(130px 72px at 20% 30%, rgba(27,125,59,.18) 0%, transparent 70%),
    radial-gradient(160px 90px at 48% 78%, rgba(27,125,59,.20) 0%, transparent 70%),
    radial-gradient(90px 60px at 12% 68%, rgba(27,125,59,.16) 0%, transparent 70%),
    radial-gradient(110px 70px at 88% 82%, rgba(27,125,59,.16) 0%, transparent 70%);
  animation:floaty 18s infinite alternate ease-in-out;
  opacity:.95;
}
html.dark body::before, html.dark body::after{
  background:
    radial-gradient(70px 42px at 82% 24%, rgba(92,184,125,.18) 0%, transparent 70%),
    radial-gradient(130px 72px at 20% 30%, rgba(92,184,125,.16) 0%, transparent 70%),
    radial-gradient(160px 90px at 48% 78%, rgba(92,184,125,.18) 0%, transparent 70%),
    radial-gradient(90px 60px at 12% 68%, rgba(92,184,125,.14) 0%, transparent 70%),
    radial-gradient(110px 70px at 88% 82%, rgba(92,184,125,.14) 0%, transparent 70%);
}
body::after{opacity:.85; animation-duration:26s; animation-delay:-6s; filter:blur(.3px) contrast(108%);}
@keyframes floaty{from{transform:translateY(0)} to{transform:translateY(26px)}}

.wrap{max-width:1100px;margin:0 auto;padding:22px;min-height:100vh;display:flex;flex-direction:column}
.theme-toggle{position:fixed;top:14px;left:14px;z-index:5;background:var(--card);color:var(--ink);
  border:1px solid var(--ring);border-radius:999px;padding:6px 10px;cursor:pointer;font-size:14px}

header{text-align:center;margin:6px 0 8px}
header .title{
  display:flex; align-items:center; gap:10px; justify-content:center;
  /* نضمن أن الدوائر تأتي بصريًا قبل الاسم (يمينًا في RTL) */
  flex-direction:row-reverse;
}
header h1{
  font-family:"Amiri", serif;
  font-size:clamp(36px,6vw,58px);
  margin:0; font-weight:700; letter-spacing:.2px; color:var(--accent);
}
.logo-dot{
  width:26px; height:26px; border-radius:50%; background:var(--accent);
  box-shadow:12px 0 0 0 var(--accent),
             24px 0 0 0 color-mix(in oklab, var(--accent) 82%, white 18%);
  margin-inline-start:6px; /* مسافة بسيطة بعد الدوائر */
}

/* العبارة التحفيزية ثابتة الوضوح */
header p.subtitle{
  display:block; margin:6px auto 0;
  color:#2f513e; font-weight:600; font-size:clamp(14px,2.4vw,18px);
  text-shadow:0 1px 0 rgba(255,255,255,.25);
}
html.dark header p.subtitle{
  color:#bfead0; text-shadow:0 1px 0 rgba(0,0,0,.45);
}

.card{background:var(--card);border:1px solid var(--ring);border-radius:16px;box-shadow:0 12px 30px rgba(0,0,0,.06)}
.pad{padding:14px}
.inputs{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
.input{width:min(560px,100%);padding:10px;border-radius:8px;border:1px solid var(--ring);font-size:18px;background:transparent;color:var(--ink)}
.toolbar{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:10px}
.btn{background:linear-gradient(180deg,var(--accent),var(--accent-2));color:#fff;border:none;padding:10px 14px;border-radius:12px;
  font-weight:700;cursor:pointer;box-shadow:0 10px 20px var(--btn-shadow);font-size:16px}
.btn:disabled{opacity:.6;cursor:not-allowed}

.status{color:var(--muted);font-size:.95rem;text-align:center;min-height:1.2em}
.err{background:var(--error-bg);color:var(--error-ink);border:1px solid var(--error-bd);padding:10px;border-radius:12px;display:none}

.sec{display:none;margin-top:12px}
.box{background:color-mix(in oklab, var(--leaf-50) 50%, var(--card) 50%);border:1px solid var(--ring);padding:12px;border-radius:12px}
.box ul,.box ol{margin:0 1.1rem}
.tag{display:inline-block;padding:.28rem .7rem;border-radius:999px;background:var(--chip-bg);border:1px solid var(--chip-bd);color:var(--sub);font-size:.9rem}

.math-inline,.math-block{direction:ltr;unicode-bidi:isolate}
.math-block{display:block;margin:.35rem auto;text-align:center}

h2.section{color:var(--h);margin:0 0 8px 0;font-weight:700;text-align:center}
h3.sub{color:var(--sub);margin:10px 0 6px 0;font-weight:700}

.table{width:100%;border-collapse:separate;border-spacing:0;overflow:hidden;border-radius:12px;border:1px solid var(--ring)}
.table th,.table td{border-bottom:1px solid color-mix(in oklab, var(--ring) 70%, transparent 30%);padding:8px 10px;font-size:16px;text-align:center;vertical-align:middle}
.table th{background:color-mix(in oklab, var(--leaf-50) 70%, var(--card) 30%);font-weight:700}
.table tr:last-child td{border-bottom:none}
.unit-cell{direction:ltr}

.center{max-width:820px;margin:0 auto}
.pill{display:inline-block;background:color-mix(in oklab, var(--leaf-50) 60%, var(--card) 40%);border:1px solid var(--ring);border-radius:999px;padding:.25rem .6rem;margin:.12rem .25rem}

footer{margin-top:auto;text-align:center;color:var(--muted);padding:22px 0 54px}
footer .brandline{display:flex;align-items:center;gap:8px;justify-content:center;margin-top:6px}
footer .leaf-dots{width:18px;height:18px;border-radius:50%;background:var(--accent);
  box-shadow:10px 0 0 0 var(--accent),20px 0 0 0 color-mix(in oklab, var(--accent) 82%, white 18%); margin-inline:8px}
footer .quote{font-weight:700;color:var(--ink);font-size:clamp(15px,3.6vw,18px)}
html.dark footer .quote{color:#e9fbea}
footer .sig{margin-top:4px;color:var(--ink);font-size:clamp(14px,3.4vw,16px)}
</style>

<script>
window.MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\\[','\\]']],processEscapes:true,packages:{'[+]':['noerrors','noundefined']}}};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>

<body>
<button class="theme-toggle" id="themeBtn">الوضع الداكن</button>

<div class="wrap">
  <header>
    <div style="display:inline-flex;align-items:center;gap:12px;">
      <h1>أنيس – فيزياء</h1>
      <span class="logo-dot" aria-hidden="true"></span>
    </div>
    <p class="subtitle">التميّز والنجاح يبدأ بخطوة.</p>
  </header>

  <section class="card pad" style="text-align:center;">
    <div class="inputs">
      <input id="concept" class="input" placeholder="أدخل القانون/المفهوم: قانون نيوتن الثاني، الجذب العام، السقوط الحر…"/>
    </div>
    <div class="toolbar">
      <button class="btn" id="btnExplain">اشرح لي 📘</button>
      <button class="btn" id="btnEx1">مثال تطبيقي 💡</button>
      <button class="btn" id="btnEx2">مثال آخر 💡</button>
      <button class="btn" id="btnPractice">اختبر فهمي 📝</button>
      <button class="btn" id="btnSolve">الحل الصحيح 🔑</button>
    </div>
    <div id="status" class="status"></div>
    <div id="error" class="err"></div>
  </section>

  <section id="secExplain" class="sec card pad" aria-live="polite">
    <h2 id="exTitle" class="section"></h2>
    <div style="display:flex;gap:8px;flex-wrap:wrap;margin:-4px 0 10px;justify-content:center;">
      <span class="tag">فيزياء</span><span id="chip2" class="tag"></span>
    </div>
    <div id="overview" class="box center" style="text-align:right;line-height:1.7;"></div>

    <h3 class="sub" style="text-align:center">الصيغ</h3>
    <div id="expFormulas" class="box center"></div>

    <h3 class="sub" style="text-align:center">الرموز والوحدات</h3>
    <div class="center">
      <table class="table">
        <thead><tr><th>الوصف</th><th>الرمز</th><th>الوحدة</th></tr></thead>
        <tbody id="symbols"></tbody>
      </table>
    </div>

    <h3 class="sub" style="text-align:center">خطوات الاستخدام/الحل</h3>
    <ol id="steps" class="box center" style="text-align:right;line-height:1.7;"></ol>
  </section>

  <section id="secEx1" class="sec card pad"><h2 class="section">مثال تطبيقي</h2><div id="ex1" class="box"></div></section>
  <section id="secEx2" class="sec card pad"><h2 class="section">مثال آخر</h2><div id="ex2" class="box"></div></section>
  <section id="secPractice" class="sec card pad"><h2 class="section">اختبر فهمي</h2><div id="practice" class="box"></div></section>
  <section id="secSolve" class="sec card pad"><h2 class="section">الحل الصحيح</h2><div id="solve" class="box"></div></section>

  <footer>
    <div class="brandline">
      <span class="leaf-dots" aria-hidden="true"></span>
      <span class="quote">لكلّ شيءٍ صعبٍ في حياتنا حلّ</span>
    </div>
    <div class="sig">ندى محمد المجيرش</div>
  </footer>
</div>

<!-- ========== تعديلات الملاحظات فقط: حماية LaTeX وتصحيح عمود "الوحدة" ========== -->
<script src="anis.js"></script>
</body>
</html>
